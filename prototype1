<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECommerce Site</title>
    <style>
        /* Reset and Base Styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; background: #f4f4f4; }
        a { text-decoration: none; color: #333; }
        button { cursor: pointer; border: none; padding: 10px 15px; border-radius: 5px; transition: background 0.3s; }
        button:hover { background: #ddd; }

        /* Header */
        header { background: #fff; padding: 10px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
        nav { display: flex; justify-content: space-between; align-items: center; }
        nav ul { list-style: none; display: flex; gap: 20px; }
        nav ul li a { padding: 10px; transition: color 0.3s; }
        nav ul li a:hover { color: #007bff; }
        .cart-icon { position: relative; }
        .cart-count { position: absolute; top: -5px; right: -10px; background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; }

        /* Main Content */
        main { padding: 20px; max-width: 1200px; margin: 0 auto; }
        .page { display: none; }
        .page.active { display: block; }

        /* Homepage */
        .products { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .product { background: #fff; padding: 15px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s; }
        .product:hover { transform: translateY(-5px); }
        .product img { width: 100%; height: 200px; object-fit: cover; border-radius: 5px; }
        .product h3 { margin: 10px 0; }
        .product p { color: #007bff; font-weight: bold; }

        /* Shop Page */
        .shop-controls { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        #search { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        #category { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        #sort { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }

        /* Cart */
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #ccc; }
        .cart-total { text-align: right; margin-top: 20px; font-weight: bold; }

        /* Modals */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 200; animation: fadeIn 0.3s; }
        .modal-content { background: #fff; margin: 10% auto; padding: 20px; width: 90%; max-width: 400px; border-radius: 5px; animation: slideIn 0.3s; }
        .close { float: right; font-size: 28px; cursor: pointer; }
        form { display: flex; flex-direction: column; gap: 10px; }
        input { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul { flex-direction: column; gap: 10px; }
            .products { grid-template-columns: 1fr; }
            .shop-controls { flex-direction: column; }
            .cart-item { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div><h1>ECommerce</h1></div>
            <ul>
                <li><a href="#" onclick="showPage('home')">Homepage</a></li>
                <li><a href="#" onclick="showPage('shop')">Shop</a></li>
                <li><a href="#" onclick="showPage('about')">About</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
                <li><a href="#" onclick="showPage('cart')" class="cart-icon">Cart <span id="cart-count" class="cart-count">0</span></a></li>
            </ul>
            <button onclick="openModal('login')">Login</button>
        </nav>
    </header>

    <main>
        <!-- Homepage -->
        <section id="home" class="page active">
            <h2>Featured Products</h2>
            <div class="products" id="featured-products">
                <!-- Products will be loaded here -->
            </div>
        </section>

        <!-- Shop Page -->
        <section id="shop" class="page">
            <h2>Shop</h2>
            <div class="shop-controls">
                <input type="text" id="search" placeholder="Search products...">
                <select id="category">
                    <option value="">All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="clothing">Clothing</option>
                    <option value="books">Books</option>
                </select>
                <select id="sort">
                    <option value="name">Sort by Name</option>
                    <option value="price">Sort by Price</option>
                </select>
            </div>
            <div class="products" id="shop-products">
                <!-- Products will be loaded here -->
            </div>
        </section>

        <!-- About Page -->
        <section id="about" class="page">
            <h2>About Us</h2>
            <p>Welcome to our eCommerce site. We offer a wide range of products at competitive prices.</p>
        </section>

        <!-- Contact Page -->
        <section id="contact" class="page">
            <h2>Contact Us</h2>
            <form>
                <input type="text" placeholder="Name" required>
                <input type="email" placeholder="Email" required>
                <textarea placeholder="Message" rows="5" required></textarea>
                <button type="submit">Send</button>
            </form>
        </section>

        <!-- Cart Page -->
        <section id="cart" class="page">
            <h2>Your Cart</h2>
            <div id="cart-items"></div>
            <div class="cart-total" id="cart-total">Total: $0</div>
            <button onclick="checkout()">Checkout</button>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('login')">&times;</span>
            <h2>Login</h2>
            <form id="login-form">
                <input type="email" placeholder="Email" required>
                <input type="password" placeholder="Password" required>
                <button type="submit">Login</button>
                <p>Don't have an account? <a href="#" onclick="switchModal('signup')">Sign Up</a></p>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signup')">&times;</span>
            <h2>Sign Up</h2>
            <form id="signup-form">
                <input type="text" placeholder="Name" required>
                <input type="email" placeholder="Email" required>
                <input type="password" placeholder="Password" required>
                <button type="submit">Sign Up</button>
                <p>Already have an account? <a href="#" onclick="switchModal('login')">Login</a></p>
            </form>
        </div>
    </div>

    <script>
        // Sample Products Data
        const products = [
            { id: 1, name: 'Laptop', price: 999, category: 'electronics', image: 'https://via.placeholder.com/250' },
            { id: 2, name: 'T-Shirt', price: 20, category: 'clothing', image: 'https://via.placeholder.com/250' },
            { id: 3, name: 'Book', price: 15, category: 'books', image: 'https://via.placeholder.com/250' },
            { id: 4, name: 'Phone', price: 699, category: 'electronics', image: 'https://via.placeholder.com/250' },
            { id: 5, name: 'Jeans', price: 50, category: 'clothing', image: 'https://via.placeholder.com/250' },
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentUser = JSON.parse(localStorage.getItem('user')) || null;

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if (pageId === 'shop') loadShopProducts();
            if (pageId === 'cart') loadCart();
        }

        // Load Featured Products
        function loadFeaturedProducts() {
            const container = document.getElementById('featured-products');
            container.innerHTML = products.slice(0, 3).map(product => `
                <div class="product">
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>$${product.price}</p>
                    <button onclick="addToCart(${product.id})">Add to Cart</button>
                </div>
            `).join('');
        }

        // Load Shop Products
        function loadShopProducts() {
            const container = document.getElementById('shop-products');
            let filtered = [...products];
            const search = document.getElementById('search').value.toLowerCase();
            const category = document.getElementById('category').value;
            const sort = document.getElementById('sort').value;

            if (search) filtered = filtered.filter(p => p.name.toLowerCase().includes(search));
            if (category) filtered = filtered.filter(p => p.category === category);
            if (sort === 'price') filtered.sort((a, b) => a.price - b.price);
            else filtered.sort((a, b) => a.name.localeCompare(b.name));

            container.innerHTML = filtered.map(product => `
                <div class="product">
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>$${product.price}</p>
                    <button onclick="addToCart(${product.id})">Add to Cart</button>
                </div>
            `).join('');
        }

        // Search and Filter
        document.getElementById('search').addEventListener('input', loadShopProducts);
        document.getElementById('category').addEventListener('change', loadShopProducts);
        document.getElementById('sort').addEventListener('change', loadShopProducts);

        // Cart Functions
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existing = cart.find(item => item.id === id);
            if (existing) existing.quantity++;
            else cart.push({ ...product, quantity: 1 });
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        }

        function updateCartCount() {
            document.getElementById('cart-count').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
        }

        function loadCart() {
            const container = document.getElementById('cart-items');
            const total = document.getElementById('cart-total');
            container.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div>${item.name} (x${item.quantity}) - $${item.price * item.quantity}</div>
                    <button onclick="removeFromCart(${item.id})">Remove</button>
                </div>
            `).join('');
            total.textContent = `Total: $${cart.reduce((sum, item) => sum + item.price * item.quantity, 0)}`;
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            loadCart();
        }

        function checkout() {
            alert('Checkout successful! (Simulation)');
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showPage('home');
        }

        // Modal Functions
        function openModal(type) {
            document.getElementById(`${type}-modal`).style.display = 'block';
        }

        function closeModal(type) {
            document.getElementById(`${type}-modal`).style.display = 'none';
        }

        function switchModal(type) {
            closeModal(type === 'login' ? 'signup' : 'login');
            openModal(type);
        }

        // Form Submissions
        document.getElementById('login-form').addEventListener('submit', e => {
            e.preventDefault();
            const email = e.target[0].value;
            const password = e.target[1].value;
            if (currentUser && currentUser.email === email && currentUser.password === password) {
                alert('Logged in!');
                closeModal('login');
            } else {
                alert('Invalid credentials');
            }
        });

        document.getElementById('signup-form').addEventListener('submit', e => {
            e.preventDefault();
            const name = e.target[0].value;
            const email = e.target[1].value;
            const password = e.target[2].value;
            currentUser = { name, email, password };
            localStorage.setItem('user', JSON.stringify(currentUser));
            alert('Signed up!');
            closeModal('signup');
        });

        // Initialize
        loadFeaturedProducts();
        updateCartCount();
    </script>
</body>
</html>
